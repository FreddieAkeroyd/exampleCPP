<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <title>EPICS exampleCPP</title>
  <link rel="stylesheet" type="text/css"
  href="http://epics-pvdata.sourceforge.net/base.css" />
  <link rel="stylesheet" type="text/css"
  href="http://epics-pvdata.sourceforge.net/epicsv4.css" />
  <style type="text/css">
/*<![CDATA[*/
     .about { margin-left: 3em; margin-right: 3em; font-size: .83em}
     table { margin-left: auto; margin-right: auto }
     .diagram { text-align: center; margin: 2.5em 0 }
     body { margin-right: 10% }
/*]]>*/</style>

 <!-- Script that generates the Table of Contents -->
  <script type="text/javascript" src="http://epics-pvdata.sourceforge.net/script/tocgen.js"></script>

</head>

<body>

<div class="head">
<h1>EPICS exampleCPP</h1>
<h2 class="nocount">Release 1.0 - 2015.11.25</h2>

<h2 class="nocount">Abstract</h2>
<p>exampleCPP provides a set of examples that is each a top level project.</p>

  <!-- last para of Abstract is boilerplate reference to EPICS -->
      <p>For more information about EPICS generally, please refer to the home page of the <a
       href="http://www.aps.anl.gov/epics/">Experimental Physics and Industrial
      Control System</a>.</p>



<h2 class="nocount">Status of this Document and of the pvaClient Software</h2>

<p>exampleCPP is being developed.</p>

</div> <!-- head -->

<div id="toc">
  <h2 class="nocount">Table of Contents</h2>
</div>

<!-- Place what you would like in the Table of Contents, inside the contents div -->
<div id="contents" class="contents">	  
<hr />

<h2>Overview</h2>

<p>exampleCPP provides a set of examples that is each a top level project.</p>
<dl>
    <dt>database</dt>
     <dd>Provides an IOC with a combination of V3 DBRecords, PVRecords, and also starts pvaSrv.</dd>
    <dt>exampleClient</dt>
     <dd>pvaClientCPP examples that communicate with the database</dd>
    <dt>helloPutGet</dt>
      <dd>A PVRecord that implements hello world via a channelPutGet request.</dd>
    <dt>helloRPC</dt>
        <dd>A channelRPC hello world server.</dd>
    <dt>exampleLink</dt>
        <dd>This example shows how a PVRecord can have support that accesses other channels</dd>
    <dt>powerSupply</dt>
        <dd>This is an example of creating a service that requires a somewhat complicated
           top level PVStructure.
        </dd>
    <dt>ChannelArchiveService</dt>
         <dd><b>To be documented.</b></dd>
    <dt>test</dt>
      <dd>A regression test for pvDatabaseCPP and pvaClientCPP.<br />
        This is activated via:
        <pre>
make runtests
        </pre>
        It starts the database and
        then runs a number of pvaClientCPP tests that communicate with the IOC.
       </dd>
     <dt>arrayPerformance</dt>
        <dd>
         This example implements main programs that demonstrate performance
         for large arrays
        </dd>
</dl>

<p>There are several reasons for a separate repository for examples of pvDatabase and pvaClient:</p>
<dl>
   <dt>Circular dependencies</dt>
     <dd>If the examples are in pvaClientCPP and pvDatabaseCPP then
         circular  dependicies are created between github repositories.</dd>
   <dt>Database required</dt>
     <dd>The pvaClient examples require that the database be started</dd>
   <dt>developerGuide</dt>
      <dd>The  
        <a
         href="http://epics-pvdata.sourceforge.net/informative/developerGuide/developerGuide.html">
          developerGuide
        </a>
        describes examples that appear in exampleCPP and exampleJava</dd>
</dl>
<p><b>NOTE</b>
The developerGuide still describes the examples as residing in pvaClientCPP pvDatabaseCPP,
pvaClientJava and pvDatabaseJava.
Many of the examples in exampleCPP and exampleJava were copied from the examples in these
repositories and slightly modified. When exampleCPP and exampleJava are ready:</p>
<ul>
   <li>The examples will be removed from
     pvaClientCPP, pvDatabaseCPP, pvaClientJava and pvDatabaseJava.</li>
   <li>The developerGuide will be revised to refer to exampleCPP and exampleJava.</li>
</ul>

<h2>Application Templates</h2>
<p>Since each example is a top level project it is also a template for creating new
EPICS V4 applications.
For example:</p>
<ul>
   <li>Copy the application to a new location. For example
<pre>
mkdir myApp
cp -a /home/epicsv4/master/exampleCPP/database myApp
</pre>
   </li>
   <li>Make changes for the new application</li>
   <li>Build</li>
</ul>
<h2>Features Tested</h2>
<h3>pvDataCPP</h3>
<p>Each type has examples:</p>
<dl>
   <dt>scalar</dt>
    <dd>
       <b>database</b> has an example for each <b>scalarType</b>.<br />
        <b>exampleClient</b> has examples for some of the <b>scalarTypes</b>.
    </dd>
   <dt>scalarArray</dt>
    <dd>
       <b>database</b> has an example for each <b>scalarType</b>.
       <b>exampleClient</b> has examples for some of the <b>scalarType</b>.
    </dd>
   <dt>structure</dt>
     <dd>
      Examples for the special fields <b>enum</b>, <b>alarm</b>, and <b>timeStamp</b> exist.
      What about <b>display</b>, <b>control</b> and <b>alarmLimit</b>?
     </dd>
   <dt>structureArray</dt>
     <dd>
        <b>database</b> has an example.
     </dd>
   <dt>union</dt>
     <dd>
         <b>database</b> has an example.
     </dd>
   <dt>unionArray</dt>
      <dd>
         <b>database</b> has an example.
     </dd>
</dl>
<h3>pvDatabaseCPP</h3>
<p>Every example except exampleClient is an example that implements PVRecords as defined by 
pvDatabaseCPP.</p>
<p><b>database</b> shows how to create "soft" PVRecords of each of the pvData types.
A soft record is a record that uses the base process method, which just sets the timeStamp
to the current time. It also has an example that is meant to be accessed via a channelPutGet
and an example channelRPC service.
</p>
<h3>pvaSrv</h3>
<p><b>database</b> creates several EPICS V3 DBRecords and also starts <b>pvaSrv</b>
Thus the DRRecords can be accessed via either provider ca or pva.</p>
<p>Several of the other examples also start pvaSrv.</p>
<h3>pvaClientCPP</h3>
<p><b>NOTE:</b> Since pvaClientCPP is a synchronous wrapper for pvAccessCPP,
pvaClientCPP examples also test pvAccess.</p>
<p><b>exampleClient</b> has examples for all of channelGet, channelPut,
channelPutGet, monitor, and channelRPC.
The examples access channels created by example <b>database</b>
</p>
<p>Several other examples also have examples that use pvaClientCPP.</p>
<h3>normativeTypesCPP</h3>
<p> The database creates records of type NTScalar, NTScalarArray and NTEnum.
There is an exampleClient that uses NTMultiChannel.</p>
<h3>C++ and Java interoperability</h3>
<p><b>exampleClient</b> can access the <b>database</b> from either exampleCPP or exampleJava.
exampleJava has an <b>exampleClient</b> that can acceess the <b>database</b> from either exampleCPP or exampleJava.
</p>
<h3>Integration Test</h3>
<p>Example <b>test</b> supports:</p>
<pre>
make runtests
</pre>
<p>It starts the example <b>database</b> and then runs a number of tests that use
pvaClientCPP to access the database.
</p>
</div> <!-- class="contents" -->
</body>
</html>
